import{_ as a}from"./chunks/theme.CWWEa1rJ.js";import{_ as n,c as l,o as t,G as p,aG as e}from"./chunks/framework.CdnsPyyz.js";const D=JSON.parse('{"title":"TS类型之never与void","description":"","frontmatter":{"title":"TS类型之never与void","author":"Zack Zheng","date":"2023/03/08 21:50","categories":["编程与类型系统"],"tags":["TypeScript"]},"headers":[],"relativePath":"books/techAndCodes/编程与类型系统/TS类型之never与void.md","filePath":"books/techAndCodes/编程与类型系统/TS类型之never与void.md","lastUpdated":1736740076000}'),h={name:"books/techAndCodes/编程与类型系统/TS类型之never与void.md"};function k(r,s,d,B,F,y){const i=a;return t(),l("div",null,[p(i,{src:"https://gitee.com/zackzhengxy/picGallery/raw/main/imgs/TS类型之never与void.svg"}),s[0]||(s[0]=e(`<div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-vp1rJ" id="tab-2JLss43" checked><label data-title="自定义空类型" for="tab-2JLss43">自定义空类型</label><input type="radio" name="group-vp1rJ" id="tab-b2pji1l"><label data-title="自定义单元类型" for="tab-b2pji1l">自定义单元类型</label></div><div class="blocks"><div class="language-ts vp-adaptive-theme active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes one-dark-pro material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;">// 如果两个类型具有相似的结构，TS会认为它们是兼容的</span></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;">// 注释1: TS中用来确保具有相同形状的其他对象不会被解释为这个类型的一种方式</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C792EA;">declare</span><span style="--shiki-light:#C678DD;--shiki-dark:#C792EA;"> const</span><span style="--shiki-light:#E5C07B;--shiki-dark:#BABED8;"> EmptyType</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#E5C07B;--shiki-dark:#FFCB6B;"> unique</span><span style="--shiki-light:#E5C07B;--shiki-dark:#FFCB6B;"> symbol</span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;"> // 注释1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C792EA;">class</span><span style="--shiki-light:#E5C07B;--shiki-dark:#FFCB6B;"> Empty</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#BABED8;">  [</span><span style="--shiki-light:#E06C75;--shiki-dark:#BABED8;">EmptyType</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#BABED8;">]</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#E5C07B;--shiki-dark:#FFCB6B;"> void</span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;"> // 注释1</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C792EA;">  private</span><span style="--shiki-light:#C678DD;--shiki-dark:#C792EA;"> constructor</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">()</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;"> {}</span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;"> // 私有构造函数确保其他代码不能实例化这个类型</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;">// 这个函数使用了【自定义空类型Empty】</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C792EA;">function</span><span style="--shiki-light:#61AFEF;--shiki-dark:#82AAFF;"> raise</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#E06C75;--shiki-light-font-style:italic;--shiki-dark:#BABED8;--shiki-dark-font-style:italic;">message</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#E5C07B;--shiki-dark:#FFCB6B;"> string</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">):</span><span style="--shiki-light:#E5C07B;--shiki-dark:#FFCB6B;"> Empty</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E5C07B;--shiki-dark:#BABED8;">  console</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#82AAFF;">error</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#F07178;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#89DDFF;">\`</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;">Error &quot;</span><span style="--shiki-light:#C678DD;--shiki-dark:#89DDFF;">\${</span><span style="--shiki-light:#E06C75;--shiki-dark:#BABED8;">message</span><span style="--shiki-light:#C678DD;--shiki-dark:#89DDFF;">}</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;">&quot; raised at </span><span style="--shiki-light:#C678DD;--shiki-dark:#89DDFF;">\${</span><span style="--shiki-light:#C678DD;--shiki-dark:#89DDFF;">new</span><span style="--shiki-light:#61AFEF;--shiki-dark:#82AAFF;"> Date</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#BABED8;">()</span><span style="--shiki-light:#C678DD;--shiki-dark:#89DDFF;">}</span><span style="--shiki-light:#98C379;--shiki-dark:#89DDFF;">\`</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#F07178;">)</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-light-font-style:inherit;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic;">  throw</span><span style="--shiki-light:#C678DD;--shiki-dark:#89DDFF;"> new</span><span style="--shiki-light:#61AFEF;--shiki-dark:#82AAFF;"> Error</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#F07178;">(</span><span style="--shiki-light:#E06C75;--shiki-dark:#BABED8;">message</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#F07178;">)</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><div class="language-ts vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes one-dark-pro material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;">// unique symbol属性确保相似形状的类型不会被解释为Unit</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C792EA;">declare</span><span style="--shiki-light:#C678DD;--shiki-dark:#C792EA;"> const</span><span style="--shiki-light:#E5C07B;--shiki-dark:#BABED8;"> UnitType</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#E5C07B;--shiki-dark:#FFCB6B;"> unique</span><span style="--shiki-light:#E5C07B;--shiki-dark:#FFCB6B;"> symbol</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C792EA;">class</span><span style="--shiki-light:#E5C07B;--shiki-dark:#FFCB6B;"> Unit</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#BABED8;">  [</span><span style="--shiki-light:#E06C75;--shiki-dark:#BABED8;">UnitType</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#BABED8;">]</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#E5C07B;--shiki-dark:#FFCB6B;"> void</span></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;">  // Unit类型的静态只读属性是唯一能够创建的Unit实例</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C792EA;">  static</span><span style="--shiki-light:#C678DD;--shiki-dark:#C792EA;"> readonly</span><span style="--shiki-light:#E06C75;--shiki-dark:#F07178;"> value</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#E5C07B;--shiki-dark:#FFCB6B;"> Unit</span><span style="--shiki-light:#56B6C2;--shiki-dark:#89DDFF;"> =</span><span style="--shiki-light:#C678DD;--shiki-dark:#89DDFF;"> new</span><span style="--shiki-light:#61AFEF;--shiki-dark:#F07178;"> Unit</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#BABED8;">()</span></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;">  // 私有构造函数确保其他代码不能实例化这个类型</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C792EA;">  private</span><span style="--shiki-light:#C678DD;--shiki-dark:#C792EA;"> constructor</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">()</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;"> {}</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;">// 这个函数等效于一个返回void的函数</span></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;">// 因为它总是返回相同的值</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C792EA;">function</span><span style="--shiki-light:#61AFEF;--shiki-dark:#82AAFF;"> greet</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">():</span><span style="--shiki-light:#E5C07B;--shiki-dark:#FFCB6B;"> Unit</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E5C07B;--shiki-dark:#BABED8;">  console</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#82AAFF;">log</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#F07178;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;">Hello World!</span><span style="--shiki-light:#98C379;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#F07178;">)</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-light-font-style:inherit;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic;">  return</span><span style="--shiki-light:#E5C07B;--shiki-dark:#BABED8;"> Unit</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#E06C75;--shiki-dark:#BABED8;">value</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div></div></div>`,1))])}const o=n(h,[["render",k]]);export{D as __pageData,o as default};
