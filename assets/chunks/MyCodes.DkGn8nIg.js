const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunks/prism.BWnoUurN.js","assets/chunks/theme.CN-NvCtl.js","assets/chunks/framework.CdnsPyyz.js"])))=>i.map(i=>d[i]);
import{d as _,p as f,v as b,V as s,G as t,a as e}from"./framework.CdnsPyyz.js";const B=_({props:{repo:{type:String,default:"o-bricks"},path:{type:String,default:""},lang:{type:String,default:""}},async setup(c){const{repo:r,path:n,lang:d}=c,a=f(null),l="zack-xy",h=d||n.split(".").pop(),g=`https://api.github.com/repos/${l}/${r}/contents/${n}`;if(b(()=>{a.value&&s(()=>import("./prism.BWnoUurN.js").then(u=>u.p),__vite__mapDeps([0,1,2])).then(u=>{s(()=>import("./prism-java.Bz0cy7o8.js"),[]).then(()=>{u.highlightElement(a.value)})})}),!r||!n)return()=>t("div",null,[t("p",null,[e("请传入仓库名：repo 和 文件路径：path 参数")])]);try{const u=await fetch(g);if(!u.ok)return t("div",null,[t("p",null,[u.status===404?"未找到代码资源":"请求github代码出现错误，可能是因为GitHub API受限"]),t("p",null,[e("请重试，或自行访问："),t("a",{target:"_blank",rel:"noopener noreferrer",href:`https://github.com/${l}/${r}/blob/main/${n}`},[e("github代码地址")])])]);const F=await u.json(),i=atob(F.content),p=new Uint8Array(i.length);for(let o=0;o<i.length;o++)p[o]=i.charCodeAt(o);const E=new TextDecoder("utf-8").decode(p);return()=>t("pre",null,[t("code",{ref:a,class:`language-${h}`},[E])])}catch(u){return t("div",null,[t("p",null,[e("请求github代码出现错误："),u]),t("p",null,[e("请重试，或自行访问"),t("a",{target:"_blank",rel:"noopener noreferrer",href:`https://github.com/${l}/${r}/blob/main/${n}`},[e("github代码地址")])])])}}});export{B as _};
