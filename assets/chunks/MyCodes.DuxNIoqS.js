const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunks/prism-core.Bi1AFiXE.js","assets/chunks/theme.DMBprIPr.js","assets/chunks/framework.CdnsPyyz.js","assets/chunks/prism.fenQITyV.js"])))=>i.map(i=>d[i]);
import{d as v,p as D,v as P,V as r,G as t,a as u}from"./framework.CdnsPyyz.js";async function V(n){switch(n){case"java":return r(()=>import("./prism-java.Bz0cy7o8.js"),[]);case"javadoc":return r(()=>import("./prism-javadoc.DUqTwkXH.js"),[]);case"python":return r(()=>import("./prism-python.DhmbaUsA.js"),[]);case"py":return r(()=>import("./prism-python.DhmbaUsA.js"),[]);case"typescript":return r(()=>import("./prism-typescript.B2PMeEx1.js"),[]);case"ts":return r(()=>import("./prism-typescript.B2PMeEx1.js"),[]);case"css":return r(()=>import("./prism-css.Bpx-unsJ.js"),[]);case"c":return r(()=>import("./prism-core.Bi1AFiXE.js").then(_=>_.p),__vite__mapDeps([0,1,2]));case"cs":return r(()=>import("./prism-csharp.7E3wiX_c.js"),[]);case"cpp":return r(()=>import("./prism-cpp.DbuaX-PE.js"),[]);case"docker":return r(()=>import("./prism-docker.MnIa7k-I.js"),[]);case"git":return r(()=>import("./prism-git.CvFLRLFJ.js"),[]);case"go":return r(()=>import("./prism-go.CyY0RbE6.js"),[]);case"gradle":return r(()=>import("./prism-gradle.BW30H6f7.js"),[]);case"graphql":return r(()=>import("./prism-graphql.DJ177lJj.js"),[]);case"js":return r(()=>import("./prism-javascript.2LMHe_9g.js"),[]);case"jsdoc":return r(()=>import("./prism-jsdoc.BpbvKxX3.js"),[]);case"json":return r(()=>import("./prism-json.xwnKirkR.js"),[]);case"webmanifest":return r(()=>import("./prism-json.xwnKirkR.js"),[]);case"jsonp":return r(()=>import("./prism-jsonp.C1uf5MTF.js"),[]);case"jsx":return r(()=>import("./prism-jsx.BFrjWriI.js"),[]);case"kt":return r(()=>import("./prism-kotlin.B1uvbSyh.js"),[]);case"kts":return r(()=>import("./prism-kotlin.B1uvbSyh.js"),[]);case"less":return r(()=>import("./prism-less.B2VBxBo8.js"),[]);case"log":return r(()=>import("./prism-log.DNsUgrn8.js"),[]);case"md":return r(()=>import("./prism-markdown.4MKFcK2x.js"),[]);case"mongodb":return r(()=>import("./prism-mongodb.DZQkpe2U.js"),[]);case"perl":return r(()=>import("./prism-perl.pLE2KKOX.js"),[]);case"php":return r(()=>import("./prism-php.Y_bwvUTe.js"),[]);case"regex":return r(()=>import("./prism-regex.DCddBNSB.js"),[]);case"rust":return r(()=>import("./prism-rust.CyYQkVoq.js"),[]);case"ruby":return r(()=>import("./prism-ruby.pgU1Zfy6.js"),[]);case"rb":return r(()=>import("./prism-ruby.pgU1Zfy6.js"),[]);case"tsx":return r(()=>import("./prism-tsx.BJUXQzHQ.js"),[]);case"sass":return r(()=>import("./prism-sass.COF7ESLM.js"),[]);case"scss":return r(()=>import("./prism-sass.COF7ESLM.js"),[]);case"scheme":return r(()=>import("./prism-scheme.C-I0-YuB.js"),[]);case"sql":return r(()=>import("./prism-sql.AgAyy5H_.js"),[]);case"swift":return r(()=>import("./prism-swift.-kriB360.js"),[]);case"yaml":return r(()=>import("./prism-yaml.Chm5ZdEN.js"),[]);case"yml":return r(()=>import("./prism-yaml.Chm5ZdEN.js"),[]);default:return"javascript"}}const L=v({props:{repo:{type:String,default:"o-bricks"},path:{type:String,default:""},lang:{type:String,default:""}},async setup(n){const{repo:_,path:o,lang:d}=n,a=D(null),s="zack-xy",p=d||o.split(".").pop(),m=`https://api.github.com/repos/${s}/${_}/contents/${o}`;if(P(()=>{a.value&&r(()=>import("./prism.fenQITyV.js").then(e=>e.p),__vite__mapDeps([3,1,2])).then(e=>{V(p||"").then(()=>{e.highlightElement(a.value)})})}),!_||!o)return()=>t("div",null,[t("p",null,[u("请传入仓库名：repo 和 文件路径：path 参数")])]);try{const e=await fetch(m);if(!e.ok)return t("div",null,[t("p",null,[e.status===404?"未找到代码资源":"请求github代码出现错误，可能是因为GitHub API受限"]),t("p",null,[u("请重试，或自行访问："),t("a",{target:"_blank",rel:"noopener noreferrer",href:`https://github.com/${s}/${_}/blob/main/${o}`},[u("github代码地址")])])]);const l=await e.json(),E=atob(l.content),c=new Uint8Array(E.length);for(let i=0;i<E.length;i++)c[i]=E.charCodeAt(i);const A=new TextDecoder("utf-8").decode(c);return()=>t("pre",null,[t("code",{ref:a,class:`language-${p}`},[A])])}catch(e){return t("div",null,[t("p",null,[u("请求github代码出现错误："),e]),t("p",null,[u("请重试，或自行访问"),t("a",{target:"_blank",rel:"noopener noreferrer",href:`https://github.com/${s}/${_}/blob/main/${o}`},[u("github代码地址")])])])}}});export{L as _};
