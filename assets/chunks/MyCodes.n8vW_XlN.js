const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunks/prism-core.DNWz2120.js","assets/chunks/theme.rYapnM6l.js","assets/chunks/framework.CdnsPyyz.js","assets/chunks/prism.C5scgmsP.js"])))=>i.map(i=>d[i]);
import{d as O,p as m,v as R,q as g,G as e,a as r,F as D,V as t}from"./framework.CdnsPyyz.js";import{c as f,S as F,B as b,d as y}from"./theme.rYapnM6l.js";async function P(c){switch(c){case"java":return t(()=>import("./prism-java.Bz0cy7o8.js"),[]);case"javadoc":return t(()=>import("./prism-javadoc.DUqTwkXH.js"),[]);case"python":return t(()=>import("./prism-python.DhmbaUsA.js"),[]);case"py":return t(()=>import("./prism-python.DhmbaUsA.js"),[]);case"typescript":return t(()=>import("./prism-typescript.B2PMeEx1.js"),[]);case"ts":return t(()=>import("./prism-typescript.B2PMeEx1.js"),[]);case"css":return t(()=>import("./prism-css.Bpx-unsJ.js"),[]);case"c":return t(()=>import("./prism-core.DNWz2120.js").then(u=>u.p),__vite__mapDeps([0,1,2]));case"cs":return t(()=>import("./prism-csharp.7E3wiX_c.js"),[]);case"cpp":return t(()=>import("./prism-cpp.DbuaX-PE.js"),[]);case"docker":return t(()=>import("./prism-docker.MnIa7k-I.js"),[]);case"git":return t(()=>import("./prism-git.CvFLRLFJ.js"),[]);case"go":return t(()=>import("./prism-go.CyY0RbE6.js"),[]);case"gradle":return t(()=>import("./prism-gradle.BW30H6f7.js"),[]);case"graphql":return t(()=>import("./prism-graphql.DJ177lJj.js"),[]);case"js":return t(()=>import("./prism-javascript.2LMHe_9g.js"),[]);case"jsdoc":return t(()=>import("./prism-jsdoc.BpbvKxX3.js"),[]);case"json":return t(()=>import("./prism-json.xwnKirkR.js"),[]);case"webmanifest":return t(()=>import("./prism-json.xwnKirkR.js"),[]);case"jsonp":return t(()=>import("./prism-jsonp.C1uf5MTF.js"),[]);case"jsx":return t(()=>import("./prism-jsx.BFrjWriI.js"),[]);case"kt":return t(()=>import("./prism-kotlin.B1uvbSyh.js"),[]);case"kts":return t(()=>import("./prism-kotlin.B1uvbSyh.js"),[]);case"less":return t(()=>import("./prism-less.B2VBxBo8.js"),[]);case"log":return t(()=>import("./prism-log.DNsUgrn8.js"),[]);case"md":return t(()=>import("./prism-markdown.4MKFcK2x.js"),[]);case"mongodb":return t(()=>import("./prism-mongodb.DZQkpe2U.js"),[]);case"perl":return t(()=>import("./prism-perl.pLE2KKOX.js"),[]);case"php":return t(()=>import("./prism-php.Y_bwvUTe.js"),[]);case"regex":return t(()=>import("./prism-regex.DCddBNSB.js"),[]);case"rust":return t(()=>import("./prism-rust.CyYQkVoq.js"),[]);case"ruby":return t(()=>import("./prism-ruby.pgU1Zfy6.js"),[]);case"rb":return t(()=>import("./prism-ruby.pgU1Zfy6.js"),[]);case"tsx":return t(()=>import("./prism-tsx.BJUXQzHQ.js"),[]);case"sass":return t(()=>import("./prism-sass.COF7ESLM.js"),[]);case"scss":return t(()=>import("./prism-sass.COF7ESLM.js"),[]);case"scheme":return t(()=>import("./prism-scheme.C-I0-YuB.js"),[]);case"sql":return t(()=>import("./prism-sql.AgAyy5H_.js"),[]);case"swift":return t(()=>import("./prism-swift.-kriB360.js"),[]);case"yaml":return t(()=>import("./prism-yaml.Chm5ZdEN.js"),[]);case"yml":return t(()=>import("./prism-yaml.Chm5ZdEN.js"),[]);default:return"javascript"}}const C=O({props:{repo:{type:String,default:"o-bricks"},path:{type:String,default:""},lang:{type:String,default:""},lazy:{type:Boolean,default:!1}},async setup(c){const{repo:u,path:o,lang:V,lazy:T}=c,p=m(null),a=m(""),i=m(!T),s="zack-xy",l=V||o.split(".").pop(),h=`https://api.github.com/repos/${s}/${u}/contents/${o}`;R(()=>{g(()=>a.value,_=>{_&&(window.Prism?P(l||"").then(()=>{window.Prism.highlightElement(p.value)}):t(()=>import("./prism.C5scgmsP.js").then(n=>n.p),__vite__mapDeps([3,1,2])).then(n=>{window.Prism=n,P(l||"").then(()=>{n.highlightElement(p.value)})}))},{immediate:!0})});async function v(){try{if(i.value){const _=await fetch(h);if(!_.ok)return()=>e("div",null,[e("p",null,[_.status===404?"未找到代码资源":"请求github代码出现错误，可能是因为GitHub API受限"]),e("p",null,[r("请重试，或自行访问："),e("a",{target:"_blank",rel:"noopener noreferrer",href:`https://github.com/${s}/${u}/blob/main/${o}`},[r("github代码地址")])])]);const n=await _.json(),d=atob(n.content),A=new Uint8Array(d.length);for(let E=0;E<d.length;E++)A[E]=d.charCodeAt(E);const L=new TextDecoder("utf-8");a.value=L.decode(A),i.value=!1}return()=>e(D,null,[e(f,{style:{display:a.value?"none":"block"}},{default:()=>[e(b,{style:{disabled:i},onClick:()=>I(),type:"primary"},{default:()=>[r("获取代码")],icon:()=>e(D,null,[e(y,null,null)])})],description:()=>i.value?e(F,null,null):e("span",null,[r("从Github拉取演示代码:"),e("a",{href:`https://github.com/${s}/${u}/blob/main/${o}`,target:"_blank"},[r("链接")])])}),e("pre",null,[e("code",{ref:p,class:`language-${l}`},[a.value])])])}catch(_){return()=>e("div",null,[e("p",null,[r("请求github代码出现错误："),_]),e("p",null,[r("请重试，或自行访问"),e("a",{target:"_blank",rel:"noopener noreferrer",href:`https://github.com/${s}/${u}/blob/main/${o}`},[r("github代码地址")])])])}}async function I(){i.value=!0,await v()}return!u||!o?()=>e("div",null,[e("p",null,[r("请传入仓库名：repo 和 文件路径：path 参数")])]):await v()}});export{C as _};
