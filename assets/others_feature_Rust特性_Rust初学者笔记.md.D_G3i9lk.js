import{_ as n}from"./chunks/theme.DTIhvtGq.js";import{_ as t,c as l,o as e,aG as i,G as p}from"./chunks/framework.C6-Ju1Us.js";const y=JSON.parse('{"title":"Rust初学者笔记","description":"","frontmatter":{"title":"Rust初学者笔记","author":"Zack Zheng","date":"2025/11/24 15:20","categories":["何以编程"],"tags":["Rust"]},"headers":[],"relativePath":"others/feature/Rust特性/Rust初学者笔记.md","filePath":"others/feature/Rust特性/Rust初学者笔记.md","lastUpdated":1763981377000}'),h={name:"others/feature/Rust特性/Rust初学者笔记.md"};function k(r,s,d,c,F,o){const a=n;return e(),l("div",null,[s[0]||(s[0]=i(`<h4 id="rustup-版本管理工具-类似nodejs的nvm" tabindex="-1">rustup(版本管理工具，类似nodejs的nvm) <a class="header-anchor" href="#rustup-版本管理工具-类似nodejs的nvm" aria-label="Permalink to &quot;rustup(版本管理工具，类似nodejs的nvm)&quot;">​</a></h4><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes one-dark-pro material-theme-palenight vp-code" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;"># 更新Rust</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#FFCB6B;">rustup</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> update</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#BABED8;"> </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;"># 卸载Rust和rustup</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#FFCB6B;">rustup</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> self</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> uninstall</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;"># 检查是否安装成功</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#FFCB6B;">rustc</span><span style="--shiki-light:#D19A66;--shiki-dark:#C3E88D;"> -V</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#FFCB6B;">cargo</span><span style="--shiki-light:#D19A66;--shiki-dark:#C3E88D;"> -V</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h4 id="cargo-类似于npm" tabindex="-1">cargo（类似于npm） <a class="header-anchor" href="#cargo-类似于npm" aria-label="Permalink to &quot;cargo（类似于npm）&quot;">​</a></h4><p>常用命令</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes one-dark-pro material-theme-palenight vp-code" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;"># 运行项目(类似npm start)</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#FFCB6B;">cargo</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> run</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;"># 构建项目(类似npm run build)</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#FFCB6B;">cargo</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> build</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;"># 构建发布版本(优化后的二进制文件)</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#FFCB6B;">cargo</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> build</span><span style="--shiki-light:#D19A66;--shiki-dark:#C3E88D;"> --release</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;"># 运行测试(类似npm test)</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#FFCB6B;">cargo</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> test</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#BABED8;">  </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;"># 检查代码(类似npm run lint)</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#FFCB6B;">cargo</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> clippy</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;"># 格式化代码(类似npm run format)</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#FFCB6B;">cargo</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> fmt</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h4 id="和-的区别-debug和display的区别" tabindex="-1">{:?}和{}的区别(Debug和Display的区别) <a class="header-anchor" href="#和-的区别-debug和display的区别" aria-label="Permalink to &quot;{:?}和{}的区别(Debug和Display的区别)&quot;">​</a></h4><p>是<code>std::fmt</code>中的2个重要trait</p><table tabindex="0"><thead><tr><th style="text-align:center;">Trait</th><th style="text-align:center;">目的</th><th style="text-align:center;">常用的格式化占位符</th><th style="text-align:center;">典型实现方式</th></tr></thead><tbody><tr><td style="text-align:center;"><code>Display</code></td><td style="text-align:center;">面向用户(end-user)的可读输出，适合在UI、日志、报表等场景中直接展示给人看的文字</td><td style="text-align:center;"><code>{}</code></td><td style="text-align:center;">手动实现<code>fmt(&amp;self, f: &amp;mut Formatter) -&gt; fmt:Result</code>或使用<code>#[derive(Display)]</code>（通过外部宏）</td></tr><tr><td style="text-align:center;"><code>Debug</code></td><td style="text-align:center;">面向开发者的调试信息，倾向于提供解构体、枚举的完整内部状态，便于排错</td><td style="text-align:center;"><code>{:?}</code> (单行) <code>{:#?}</code> (多行、缩进)</td><td style="text-align:center;">大多数标准库类型已经实现；自定义类型可以<code>#[derive(Debug)]</code>自动生成；手动实现<code>fmt::Debug</code>亦可</td></tr></tbody></table><ul><li>使用<code>{:?}</code>是一种惯例：在调试、快速打印变量时，程序员往往倾向于使用<code>{:?}</code>，因为它不要求对象实现<code>Display</code>。几乎所有的标准库类型(包括自定义类型只要<code>#[derive(Debug)]</code>)都有Debug实现;因此用<code>{:?}</code>可以一键打印，不必考虑是否实现<code>Display</code></li></ul><h4 id="变量" tabindex="-1">变量 <a class="header-anchor" href="#变量" aria-label="Permalink to &quot;变量&quot;">​</a></h4><p>变量分<b>可变</b>和<b>不可变</b>，使用<code>let</code>声明，默认是不可变的，加上<code>mut</code>是声明可变的。</p><div class="language-Rust vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">Rust</span><pre class="shiki shiki-themes one-dark-pro material-theme-palenight vp-code" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;">// 使用let来声明变量，a是不可变的</span></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;">// 此处没有指定a的类型，自动推断位i32类型，有符号32位整数</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C792EA;">let</span><span style="--shiki-light:#E06C75;--shiki-dark:#BABED8;"> a</span><span style="--shiki-light:#56B6C2;--shiki-dark:#89DDFF;"> =</span><span style="--shiki-light:#D19A66;--shiki-dark:#F78C6C;"> 10</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">;</span></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;">// 显式指定b的类型为i32（不可变）</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C792EA;">let</span><span style="--shiki-light:#E06C75;--shiki-dark:#BABED8;"> b</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#E5C07B;--shiki-dark:#FFCB6B;"> i32</span><span style="--shiki-light:#56B6C2;--shiki-dark:#89DDFF;"> =</span><span style="--shiki-light:#D19A66;--shiki-dark:#F78C6C;"> 20</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">;</span></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;">// c可变的,(值是30，i32是类型，也可以写成30_i32)</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C792EA;">let</span><span style="--shiki-light:#C678DD;--shiki-dark:#C792EA;"> mut</span><span style="--shiki-light:#E06C75;--shiki-dark:#BABED8;"> c</span><span style="--shiki-light:#56B6C2;--shiki-dark:#89DDFF;"> =</span><span style="--shiki-light:#D19A66;--shiki-dark:#F78C6C;"> 30</span><span style="--shiki-light:#E5C07B;--shiki-dark:#FFCB6B;">i32</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">;</span></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;">// 对于未使用的变量，Rust会给警告，使用_开头，会让Rust忽略警告</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C792EA;">let</span><span style="--shiki-light:#E06C75;--shiki-dark:#BABED8;"> _x</span><span style="--shiki-light:#56B6C2;--shiki-dark:#89DDFF;"> =</span><span style="--shiki-light:#D19A66;--shiki-dark:#F78C6C;"> 5</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">;</span></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;">// 变量解构</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C792EA;">let</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;"> (</span><span style="--shiki-light:#E06C75;--shiki-dark:#BABED8;">m</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#C678DD;--shiki-dark:#C792EA;"> mut</span><span style="--shiki-light:#E06C75;--shiki-dark:#BABED8;"> n</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">):</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;"> (</span><span style="--shiki-light:#E5C07B;--shiki-dark:#FFCB6B;">bool</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#E5C07B;--shiki-dark:#FFCB6B;"> bool</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">)</span><span style="--shiki-light:#56B6C2;--shiki-dark:#89DDFF;"> =</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;"> (</span><span style="--shiki-light:#D19A66;--shiki-dark:#89DDFF;">true</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#D19A66;--shiki-dark:#89DDFF;"> false</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C792EA;">let</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;"> (</span><span style="--shiki-light:#E06C75;--shiki-dark:#BABED8;">a</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#E06C75;--shiki-dark:#BABED8;"> b</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#E06C75;--shiki-dark:#BABED8;"> c</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#E06C75;--shiki-dark:#BABED8;"> d</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#E06C75;--shiki-dark:#BABED8;">a</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#E06C75;--shiki-dark:#BABED8;"> b</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">)</span><span style="--shiki-light:#56B6C2;--shiki-dark:#89DDFF;"> =</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;"> (</span><span style="--shiki-light:#D19A66;--shiki-dark:#F78C6C;">1</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#D19A66;--shiki-dark:#F78C6C;"> 2</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">);</span></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;">// _ 代表匹配一个值，不关心具体的值是什么，使用 _</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">[</span><span style="--shiki-light:#E06C75;--shiki-dark:#BABED8;">c</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;"> ..,</span><span style="--shiki-light:#E06C75;--shiki-dark:#BABED8;"> d</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#E06C75;--shiki-dark:#BABED8;"> _</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">]</span><span style="--shiki-light:#56B6C2;--shiki-dark:#89DDFF;"> =</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;"> [</span><span style="--shiki-light:#D19A66;--shiki-dark:#F78C6C;">1</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#D19A66;--shiki-dark:#F78C6C;"> 2</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#D19A66;--shiki-dark:#F78C6C;"> 3</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#D19A66;--shiki-dark:#F78C6C;"> 4</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#D19A66;--shiki-dark:#F78C6C;"> 5</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">];</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h4 id="不可变变量和const的对比" tabindex="-1">不可变变量和const的对比 <a class="header-anchor" href="#不可变变量和const的对比" aria-label="Permalink to &quot;不可变变量和const的对比&quot;">​</a></h4>`,13)),p(a,{src:"https://gitee.com/zackzhengxy/picGallery/raw/main/imgs/不可变变量和const的区别.png"}),s[1]||(s[1]=i(`<h4 id="变量遮蔽" tabindex="-1">变量遮蔽 <a class="header-anchor" href="#变量遮蔽" aria-label="Permalink to &quot;变量遮蔽&quot;">​</a></h4><p>允许生成相同的变量名，后面声明的变量会覆盖前面声明的</p><p><b>变量遮蔽和mut可变变量的区别是：变量遮蔽是2个变量，只是恰好名字相同；<code>mut</code>声明的变量，是修改同一个内存地址上的值</b></p><div class="language-Rust vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">Rust</span><pre class="shiki shiki-themes one-dark-pro material-theme-palenight vp-code" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C792EA;">let</span><span style="--shiki-light:#E06C75;--shiki-dark:#BABED8;"> x</span><span style="--shiki-light:#56B6C2;--shiki-dark:#89DDFF;"> =</span><span style="--shiki-light:#D19A66;--shiki-dark:#F78C6C;"> 5</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">;</span></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;">// x现在是6</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C792EA;">let</span><span style="--shiki-light:#E06C75;--shiki-dark:#BABED8;"> x</span><span style="--shiki-light:#56B6C2;--shiki-dark:#89DDFF;"> =</span><span style="--shiki-light:#E06C75;--shiki-dark:#BABED8;"> x</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;"> +</span><span style="--shiki-light:#D19A66;--shiki-dark:#F78C6C;"> 1</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">;</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">{</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C792EA;">  let</span><span style="--shiki-light:#E06C75;--shiki-dark:#BABED8;"> x</span><span style="--shiki-light:#56B6C2;--shiki-dark:#89DDFF;"> =</span><span style="--shiki-light:#E06C75;--shiki-dark:#BABED8;"> x</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;"> *</span><span style="--shiki-light:#D19A66;--shiki-dark:#F78C6C;"> 2</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">;</span></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;">  // 这里输出12</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#82AAFF;">  println!</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;">The value of x in the inner space is: </span><span style="--shiki-light:#98C379;--shiki-dark:#89DDFF;">{}&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#E06C75;--shiki-dark:#BABED8;"> x</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">);</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">}</span></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;">// 这里输出6</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#82AAFF;">println!</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;">The value of x is: </span><span style="--shiki-light:#98C379;--shiki-dark:#89DDFF;">{}&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#E06C75;--shiki-dark:#BABED8;"> x</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="类型" tabindex="-1">类型 <a class="header-anchor" href="#类型" aria-label="Permalink to &quot;类型&quot;">​</a></h4><h5 id="基本类型" tabindex="-1">基本类型 <a class="header-anchor" href="#基本类型" aria-label="Permalink to &quot;基本类型&quot;">​</a></h5><ul><li>数值类型: <ul><li>有符号整数(i8,i16,i32,i64,isize)</li><li>无符号整数(u8,u16,u32,u64,usize)</li><li>浮点类型(f32,f64)</li></ul></li><li>字符串：字符串字面量和字符串切片<code>&amp;str</code></li><li>布尔类型</li><li>字符类型：单个Unicode字符，存储为4个字节</li><li>单元类型：即<code>()</code>，唯一值也是<code>()</code>（是 “这里必须有一个类型，但实际值不重要” 的唯一实现，在运行时不占内存）</li></ul><div class="tip custom-block"><p class="custom-block-title">序列(Range)</p><p>只允许用于数字或字符类型，生成连续的数字或者字符，常用于循环</p><div class="language-Rust vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">Rust</span><pre class="shiki shiki-themes one-dark-pro material-theme-palenight vp-code" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-light-font-style:inherit;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic;">for</span><span style="--shiki-light:#E06C75;--shiki-dark:#BABED8;"> i</span><span style="--shiki-light:#C678DD;--shiki-dark:#F78C6C;"> in</span><span style="--shiki-light:#D19A66;--shiki-dark:#F78C6C;"> 1</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">..=</span><span style="--shiki-light:#D19A66;--shiki-dark:#F78C6C;">5</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#82AAFF;">  println!</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#89DDFF;">&quot;{}&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#E06C75;--shiki-dark:#BABED8;"> i</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">);</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-light-font-style:inherit;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic;">for</span><span style="--shiki-light:#E06C75;--shiki-dark:#BABED8;"> i</span><span style="--shiki-light:#C678DD;--shiki-dark:#F78C6C;"> in</span><span style="--shiki-light:#98C379;--shiki-dark:#89DDFF;"> &#39;</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;">a</span><span style="--shiki-light:#98C379;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">..=</span><span style="--shiki-light:#98C379;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;">z</span><span style="--shiki-light:#98C379;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#82AAFF;">  println!</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#89DDFF;">&quot;{}&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#E06C75;--shiki-dark:#BABED8;"> i</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">)</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></div><h5 id="复合类型" tabindex="-1">复合类型 <a class="header-anchor" href="#复合类型" aria-label="Permalink to &quot;复合类型&quot;">​</a></h5><h4 id="语句和表达式" tabindex="-1">语句和表达式 <a class="header-anchor" href="#语句和表达式" aria-label="Permalink to &quot;语句和表达式&quot;">​</a></h4><p>语句执行操作，不返回<br> 表达式求值后返回一个值(表达式没有分号。调用函数是表达式，调用宏是表达式，花括号包裹最终返回一个值的语句块也是表达式。表达式如果不返回任何值，隐式返回<code>()</code>)</p><h4 id="函数" tabindex="-1">函数 <a class="header-anchor" href="#函数" aria-label="Permalink to &quot;函数&quot;">​</a></h4><div class="language-Rust vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">Rust</span><pre class="shiki shiki-themes one-dark-pro material-theme-palenight vp-code" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#F78C6C;">fn</span><span style="--shiki-light:#61AFEF;--shiki-dark:#82AAFF;"> add</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#E06C75;--shiki-dark:#BABED8;">i</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#E5C07B;--shiki-dark:#FFCB6B;"> i32</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#E06C75;--shiki-dark:#BABED8;"> j</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#E5C07B;--shiki-dark:#FFCB6B;"> i32</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">)</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;"> -&gt;</span><span style="--shiki-light:#E5C07B;--shiki-dark:#FFCB6B;"> i32</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#BABED8;">  i</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;"> +</span><span style="--shiki-light:#E06C75;--shiki-dark:#BABED8;"> j</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>函数名和变量名使用蛇形命名法，比如<code>fn add_two() {}</code></li><li>函数位置随便放，有定义就行</li><li>每个函数参数都要标注类型</li><li>函数分返回值就是函数最后一条表达式的返回值，也可以用<code>return</code>提前返回</li><li>如果函数没有返回值，返回<code>()</code></li><li>返回<code>!</code>的函数，表示<code>发散函数</code>，意思是函数用不会返回，用做导致程序崩溃的函数</li></ul><h4 id="所有权和借用" tabindex="-1">所有权和借用 <a class="header-anchor" href="#所有权和借用" aria-label="Permalink to &quot;所有权和借用&quot;">​</a></h4><div class="tip custom-block"><p class="custom-block-title"><code>*</code>和<code>&amp;</code>符号作用对比</p><table tabindex="0"><thead><tr><th style="text-align:center;">位置</th><th style="text-align:center;">代码片段</th><th style="text-align:center;">语义</th><th style="text-align:center;">结果类型</th><th style="text-align:center;">示例</th></tr></thead><tbody><tr><td style="text-align:center;">声明</td><td style="text-align:center;"><code>int *p</code><br><code>char *c</code></td><td style="text-align:center;">p是指向int的指针<br>c是指向char的指针</td><td style="text-align:center;"><code>int *</code>、<code>char *</code><br>(指针类型)</td><td style="text-align:center;"><code>int *p = NULL;</code></td></tr><tr><td style="text-align:center;">表达式</td><td style="text-align:center;"><code>*p</code></td><td style="text-align:center;"><b>解引用：</b>取指针p所指向的对象的值</td><td style="text-align:center;"><code>int</code>(若<code>p</code>为<code>int *</code>)</td><td style="text-align:center;"><code>int v = *p;</code></td></tr><tr><td style="text-align:center;">表达式</td><td style="text-align:center;"><code>&amp;a</code></td><td style="text-align:center;"><b>取地址：</b>把对象<code>a</code>的内存地址形成指针</td><td style="text-align:center;"><code>int *</code>若<code>a</code>为<code>int</code></td><td style="text-align:center;"><code>int *q = &amp;a;</code></td></tr><tr><td style="text-align:center;">函数返回类型</td><td style="text-align:center;"><code>int* foo()</code></td><td style="text-align:center;"><code>foo</code>返回一个指向<code>int</code>的指针</td><td style="text-align:center;"><code>int *</code></td><td style="text-align:center;"><code>int *ptr = foo()</code></td></tr></tbody></table></div>`,16))])}const D=t(h,[["render",k]]);export{y as __pageData,D as default};
