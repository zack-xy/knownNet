import{_ as a,c as n,o as p,ax as l}from"./chunks/framework.DtvkEc4l.js";const h=JSON.parse('{"title":"C++中引用和指针的区别","description":"","frontmatter":{"title":"C++中引用和指针的区别","author":"Zack Zheng","date":"2023/10/19 00:00","categories":["C++"],"tags":["C++"]},"headers":[],"relativePath":"program/pieces/2023/10/19/C++中引用和指针的区别.md","filePath":"program/pieces/2023/10/19/C++中引用和指针的区别.md","lastUpdated":1697726906000}'),e={name:"program/pieces/2023/10/19/C++中引用和指针的区别.md"};function i(t,s,r,c,b,d){return p(),n("div",null,s[0]||(s[0]=[l(`<h3 id="指针-指针变量相对应的内存空间里存储的值恰好是某个内存地址" tabindex="-1">指针：指针变量相对应的内存空间里存储的值恰好是某个内存地址 <a class="header-anchor" href="#指针-指针变量相对应的内存空间里存储的值恰好是某个内存地址" aria-label="Permalink to &quot;指针：指针变量相对应的内存空间里存储的值恰好是某个内存地址&quot;">​</a></h3><div class="language-c++ vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">c++</span><pre class="shiki shiki-themes one-dark-pro material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C792EA;">int</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#BABED8;"> x </span><span style="--shiki-light:#C678DD;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#D19A66;--shiki-dark:#F78C6C;"> 5</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">;</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C792EA;">int</span><span style="--shiki-light:#C678DD;--shiki-dark:#89DDFF;"> *</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#BABED8;">ptr </span><span style="--shiki-light:#C678DD;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#56B6C2;--shiki-dark:#89DDFF;"> &amp;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#BABED8;">x</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>ptr是一个指针变量名</li><li>通过指针获取这个指针指向的内存中的值称为解引用</li><li>空指针不能解引用</li></ul><p>解引用（*就是解引用运算符）</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes one-dark-pro material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span>int main() {</span></span>
<span class="line"><span>    int a = 1;</span></span>
<span class="line"><span>    // 创建指针b，存储a的地址</span></span>
<span class="line"><span>    int *b = &amp;a;</span></span>
<span class="line"><span>    // 对指针b中存储的地址进行解引用</span></span>
<span class="line"><span>    int c = *b;</span></span>
<span class="line"><span>    // 输出结果为：1 0x61feb4 1</span></span>
<span class="line"><span>    cout&lt;&lt;a&lt;&lt;&quot; &quot;&lt;&lt;b&lt;&lt;&quot; &quot;&lt;&lt;c</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="引用-表示某一对象的别名-是一种特殊的指针" tabindex="-1">引用：表示某一对象的别名，是一种特殊的指针 <a class="header-anchor" href="#引用-表示某一对象的别名-是一种特殊的指针" aria-label="Permalink to &quot;引用：表示某一对象的别名，是一种特殊的指针&quot;">​</a></h3><p><code>类型标识符 &amp;引用名=目标变量名</code></p><div class="language-c++ vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">c++</span><pre class="shiki shiki-themes one-dark-pro material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C792EA;">int</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#BABED8;"> x </span><span style="--shiki-light:#C678DD;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#D19A66;--shiki-dark:#F78C6C;"> 5</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">;</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C792EA;">int</span><span style="--shiki-light:#56B6C2;--shiki-dark:#89DDFF;"> &amp;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#BABED8;">y </span><span style="--shiki-light:#C678DD;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#BABED8;"> x</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>对象和对象的引用都指向同一地址<br> 类型标识符是指目标变量的类型<br> 引用声明完毕后，相当于目标变量名有2个名称（目标原名称、引用名）</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes one-dark-pro material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span>int main() {</span></span>
<span class="line"><span>    int a = 1;</span></span>
<span class="line"><span>    int &amp;b = a;</span></span>
<span class="line"><span>    b = 2;</span></span>
<span class="line"><span>    cout&lt;&lt;a&lt;&lt;endl;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 输出结果为2</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="引用的应用" tabindex="-1">引用的应用 <a class="header-anchor" href="#引用的应用" aria-label="Permalink to &quot;引用的应用&quot;">​</a></h3><ol><li>函数参数引用传递</li></ol><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes one-dark-pro material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span>#include &lt;iostream&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>use namespace std;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 引用传递的方式</span></span>
<span class="line"><span>void func (int &amp;a) {</span></span>
<span class="line"><span>    a = a + 10;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 传统值传递的方式</span></span>
<span class="line"><span>void func1 (int a) {</span></span>
<span class="line"><span>    a = a + 10;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>int main() {</span></span>
<span class="line"><span>    int a=5,b=5;</span></span>
<span class="line"><span>    func(a);</span></span>
<span class="line"><span>    func1(b);</span></span>
<span class="line"><span>    cout&lt;&lt;a&lt;&lt;&quot; &quot;&lt;&lt;b&lt;&lt;endl;</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><ol start="2"><li>常引用 使用引用并确保引用的安全性</li></ol><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes one-dark-pro material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span>int main() {</span></span>
<span class="line"><span>    int a = 1;</span></span>
<span class="line"><span>    const int &amp;b = a;</span></span>
<span class="line"><span>    // 通过引用修改变量，报错</span></span>
<span class="line"><span>    b = 2;</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="代码例子" tabindex="-1">代码例子 <a class="header-anchor" href="#代码例子" aria-label="Permalink to &quot;代码例子&quot;">​</a></h3><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes one-dark-pro material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span>int a=10,*p;</span></span>
<span class="line"><span>int &amp;b=a; // 引用，变量b和a指向同一个空间</span></span>
<span class="line"><span>p=&amp;a; // 指针P存储变量a的地址</span></span>
<span class="line"><span>string s=&quot;c++&quot;;</span></span>
<span class="line"><span>string *ps=&amp;s;</span></span>
<span class="line"><span>cout&lt;&lt;p&lt;&lt;endl; // 输出结果是指针p的值，变量a的地址</span></span>
<span class="line"><span>cout&lt;&lt;b&lt;&lt;endl; // 输入结果是变量b的值10</span></span>
<span class="line"><span>cout&lt;&lt;*p&lt;&lt;endl; // 输出结果是指针p指向的变量的值，即变量a的值10</span></span>
<span class="line"><span>cout&lt;&lt;ps&lt;&lt;endl; // 输出结果是指针ps的值，变量s的地址</span></span>
<span class="line"><span>cout&lt;&lt;*ps&lt;&lt;endl; // 输出结果是指针ps指向的变量的值，即变量s的值&quot;c++&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="区别" tabindex="-1">区别 <a class="header-anchor" href="#区别" aria-label="Permalink to &quot;区别&quot;">​</a></h3><ul><li>指针有自己的一块空间，而引用只是一个别名</li><li>使用sizeof看一个指针的大小是4，而引用则是被引用对象的大小</li><li>指针可以被初始化为NULL，而引用必须被初始化而且必须是一个已有对象的引用</li><li>作为参数传递时，指针需要被解引用才可以对对象进行操作，而直接对引用的修改都会改变引用所指向的对象</li><li>指针在使用中可以指向其他对象，但是引用只能是一个对象的引用，不能被改变</li><li>指针可以有多级指针（**P），而引用只有一级</li><li>指针和引用使用++运算符的意义不一样</li><li>如果返回动态内存分配的对象或者内存，必须使用指针，引用可能引起内存泄漏</li></ul>`,19)]))}const u=a(e,[["render",i]]);export{h as __pageData,u as default};
