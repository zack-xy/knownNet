import{_ as a,o as i,c as e,aG as n}from"./chunks/framework.DoeRDKhl.js";const c=JSON.parse('{"title":"发布npm包常用命令","description":"","frontmatter":{"title":"发布npm包常用命令","author":"Zack Zheng","date":"2025/07/17 17:34","categories":["大海拾遗"],"tags":["npm","node","脚手架"]},"headers":[],"relativePath":"program/pieces/发布npm包常用命令.md","filePath":"program/pieces/发布npm包常用命令.md","lastUpdated":1758967802000}'),l={name:"program/pieces/发布npm包常用命令.md"};function t(p,s,h,r,k,d){return i(),e("div",null,[...s[0]||(s[0]=[n(`<h5 id="本地测试打包" tabindex="-1">本地测试打包 <a class="header-anchor" href="#本地测试打包" aria-label="Permalink to &quot;本地测试打包&quot;">​</a></h5><p>生成一个 .tgz 包，可用于本地安装测试：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes one-dark-pro material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#FFCB6B;">npm</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> pack</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes one-dark-pro material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#FFCB6B;">npm</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> install</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> ./your-package-name-1.0.0.tgz</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h5 id="本地测试2" tabindex="-1">本地测试2 <a class="header-anchor" href="#本地测试2" aria-label="Permalink to &quot;本地测试2&quot;">​</a></h5><p><code>npm link</code><a href="./npm的安装机制.html">详情查看这个文章</a></p><h5 id="发布" tabindex="-1">发布 <a class="header-anchor" href="#发布" aria-label="Permalink to &quot;发布&quot;">​</a></h5><p>普通包（非 scoped）</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes one-dark-pro material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#FFCB6B;">npm</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> publish</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Scoped 包（如 @zack-xy/cli）</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes one-dark-pro material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#FFCB6B;">npm</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> publish</span><span style="--shiki-light:#D19A66;--shiki-dark:#C3E88D;"> --access</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> public</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h5 id="发布新版本" tabindex="-1">发布新版本 <a class="header-anchor" href="#发布新版本" aria-label="Permalink to &quot;发布新版本&quot;">​</a></h5><p>更新 package.json 里的 &quot;version&quot;，或使用以下命令：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes one-dark-pro material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#FFCB6B;">npm</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> version</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> patch</span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;">   # 1.0.0 → 1.0.1</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#FFCB6B;">npm</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> version</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> minor</span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;">   # 1.0.0 → 1.1.0</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#FFCB6B;">npm</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> version</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> major</span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;">   # 1.0.0 → 2.0.0</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>然后再执行：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes one-dark-pro material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#FFCB6B;">npm</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> publish</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h5 id="删除包或版本" tabindex="-1">删除包或版本 <a class="header-anchor" href="#删除包或版本" aria-label="Permalink to &quot;删除包或版本&quot;">​</a></h5><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes one-dark-pro material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#FFCB6B;">npm</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> unpublish</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> your-package</span><span style="--shiki-light:#D19A66;--shiki-dark:#C3E88D;"> --force</span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;">                   # 删除整个包（仅限 24 小时内）</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#FFCB6B;">npm</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> unpublish</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> your-package@1.0.0</span><span style="--shiki-light:#D19A66;--shiki-dark:#C3E88D;"> --force</span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;">             # 删除特定版本</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h5 id="标记某个版本为废弃" tabindex="-1">标记某个版本为废弃 <a class="header-anchor" href="#标记某个版本为废弃" aria-label="Permalink to &quot;标记某个版本为废弃&quot;">​</a></h5><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes one-dark-pro material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#FFCB6B;">npm</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> deprecate</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> your-package@1.0.0</span><span style="--shiki-light:#98C379;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;">⚠️ 不建议使用，请升级</span><span style="--shiki-light:#98C379;--shiki-dark:#89DDFF;">&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h5 id="查看信息" tabindex="-1">查看信息 <a class="header-anchor" href="#查看信息" aria-label="Permalink to &quot;查看信息&quot;">​</a></h5><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes one-dark-pro material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#FFCB6B;">npm</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> whoami</span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;">                        # 当前登录用户</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#FFCB6B;">npm</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> view</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> your-package</span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;">             # 查看包的元数据</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#FFCB6B;">npm</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> view</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> your-package</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;"> versions</span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;">   # 查看所有已发布版本</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h5 id="发布内容控制" tabindex="-1">发布内容控制 <a class="header-anchor" href="#发布内容控制" aria-label="Permalink to &quot;发布内容控制&quot;">​</a></h5><p>配置.npmignore, 忽略不需要发布的文件<br> 或者在 package.json 中添加：</p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes one-dark-pro material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#98C379;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;">files</span><span style="--shiki-light:#98C379;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#BABED8;">: </span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">[</span></span>
<span class="line"><span style="--shiki-light:#98C379;--shiki-dark:#89DDFF;">  &quot;</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;">bin</span><span style="--shiki-light:#98C379;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">,</span></span>
<span class="line"><span style="--shiki-light:#98C379;--shiki-dark:#89DDFF;">  &quot;</span><span style="--shiki-light:#98C379;--shiki-dark:#C3E88D;">lib</span><span style="--shiki-light:#98C379;--shiki-dark:#89DDFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#89DDFF;">]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div>`,25)])])}const m=a(l,[["render",t]]);export{c as __pageData,m as default};
