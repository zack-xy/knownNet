---
title: Debian12使用apt安装软件报插入光驱
date: 2024/01/02 00:00:00
categories: 
- Debian
tags: 
- Debian
---

出现 `/dev/sr0: Can't open blockdev Media change: please insert the disc labeled` 这样的报错提示，通常是在安装软件过程中，系统尝试去访问光驱设备（`/dev/sr0` 一般代表光驱），但可能存在以下几种情况及对应的解决办法：

### 1. 虚拟机光驱设置问题（如果是在虚拟机环境下）

- **情况分析**：
  在虚拟机中，可能默认关联了一个光驱设备，并且配置为需要插入特定光盘镜像之类的情况，而实际并没有正确设置对应的光盘镜像或者挂载相关文件，导致在安装软件等操作时，系统按照软件源配置去访问这个光驱设备却无法正常打开它。
- 解决办法:
  - 对于 VMware 虚拟机
    - 关闭正在运行的 Linux 虚拟机。
    - 打开 VMware Workstation 软件，选中对应的虚拟机，点击 “虚拟机 (V)” -> “设置 (S)”，在弹出的设置窗口中选择 “硬件” 选项卡，然后找到 “CD/DVD（IDE）” 设备（如果有）。
    - 查看其设置情况，如果是 “使用物理驱动器”，则改成 “使用 ISO 映像文件”，然后浏览并选择一个合适的 ISO 映像文件（比如你系统对应的官方安装镜像或者合适的软件源镜像等，若不需要特定镜像辅助安装，可选择一个空的 ISO 文件占位，防止系统再去尝试访问实际不存在的光盘内容），点击 “确定” 保存设置后，重新启动虚拟机，再尝试进行软件安装操作。
  - 对于 VirtualBox 虚拟机
    - 同样先关闭虚拟机。
    - 打开 VirtualBox 管理界面，选中该 Linux 虚拟机，点击 “设置” 按钮，在 “存储” 选项卡中，找到 “控制器：IDE” 下面的 “CD/DVD 驱动器” 项目。
    - 确认其设置，若显示 “未分配”，可以选择 “选择磁盘文件”，然后挑选一个 ISO 映像文件进行挂载（同 VMware 虚拟机中选择思路一样，要么选对安装有帮助的镜像，要么选空的防止误访问），保存设置后重启虚拟机再安装软件。

### 2. 软件源配置关联光驱问题（真实物理机或虚拟机情况都可能涉及）

- **情况分析**：
  在系统的软件源配置中，可能存在指向光驱设备作为软件源的部分设置，比如之前可能添加过基于光盘的软件源，但现在光驱里没有对应光盘或者光驱设备本身出现故障等情况，导致安装软件时去访问这个光驱相关的软件源而出错。
- 解决办法:
  - 编辑软件源配置文件（以 Debian 系系统为例，如 Ubuntu），使用命令 `sudo nano /etc/apt/sources.list` 打开配置文件（`nano` 是文本编辑器，你也可以用 `vim` 等其他编辑器，但操作方式略有不同）。
  - 在文件中查找是否有涉及 `/dev/sr0` 或者以光驱设备作为路径开头的软件源行，将这些行注释掉（在行首添加 `#` 符号即可），例如，如果有类似 `deb cdrom:[Ubuntu 18.04 LTS _Bionic Beaver_ - Release amd64 (2018-04-26)]/ bionic main restricted` 这样关联到光盘的行，就改成 `#deb cdrom:[Ubuntu 18.04 LTS _Bionic Beaver_ - Release amd64 (2018-04-26)]/ bionic main restricted` 。
  - 保存文件（在 `nano` 编辑器中，按 `Ctrl + O` 保存，然后按 `Ctrl + X` 退出），之后再次运行 `sudo apt update` 重新更新软件包列表，然后再尝试用 `sudo apt install openssh-server` 安装软件。



我系统是Macos使用的是虚拟机Parallels18，点开【设备】找到【CD/DVD】选择安装的镜像iso文件即可
